# Document Generation from Templates

Markdown documentation files provided by PavedRoad such as README.md files are generated from templates using jinja2.
The template files may be edited with any editor including the GitHub GUI editor available on repository web pages.

Once template files have been edited the target markdown files must be generated by running the _make_ command in the appropriate directory.
After the generated file is ready for prime time both it and the template should be pushed to a branch and a pull request made.

## Getting Started

If the template file and the target file already exist the process for updating a file is fairly simple.
Edit the template file and go to the directory *kevlar-repo/assets/content* and type _make_.
All target files that have had any dependencies modified will be rebuilt.

## Directory Layout

    |-- kevlar-repo
    |   |-- assets
    |   |   |-- content
    |   |   |   |-- assets
    |   |   |   |-- github
    |   |   |   |-- kevlar-repo
    |   |   |   `-- salt
    |   |   `-- images
    |   |-- repo-templates
    |   |   |-- assets
    |   |   |-- oss-default
    |   |   `-- salt
    |   `-- salt

Each set of generated markdown files in a target directory have an associated template directory where the source templates reside.
The source template file for each generated file has the same base name.
In addition a third directory is associated with each pair of template and target directories.
This third directory contains the Makefile used to generate this set of target markdown files.
Generally the last element of all of these directory names would be the same.
As an example here are the directories and files associated with the
[Developer Kit README file](/salt/README.md).

|Directory Type|Example Files|
|-|-|
|template|kevlar-repo/repo-templates/salt/README.md|
|target|kevlar-repo/salt/README.md|
|makefile|kevlar-repo/assets/content/salt/Makefile|

### The Target Directory

A target directory may reside anywhere on GitHub but target file generation is much simpler if it is in the same repo or the same organization.
Note that all three directories are in the same repo for the example of this README file.

### The Template Directory

A template directory generally resides in *kevlar-repo/repo-templates* and usually would have the same last element directory name.
However different target directories could share the same template directory so having the same name is not a requirement.
If possible it is good practice to give them the same name.

### The Makefile Directory

A makefile directory must reside in *kevlar-repo/assets/content* and usually would have the same last element directory name as the target and template directories.
Typing _make_ in this directory will build all of its target markdown files that are out of date.
Note that all three directories have the same last element name of *assets* in the example of this README file.

### The Content Directory

All of the makefile directories reside in *kevlar-repo/assets/content* and this directory has a top level makefile that can start makes in all of its sub directories.
Typing _make_ in this directory will thus build all of the target markdown files that are out of date in each target directory.

### Template Variables

Template variable files define the substitutions that are made to jinja
variables when the template files are processed.
Two types of template variables are defined: organization and project.
Only one organization variable file exits and multiple project variable files exist.

|Variable Type|Directory|File Name|Applies To|
|-|-|-|-|
|Organization|kevlar-repo/assets/content|organization.yaml|All target templates
|Project|kevlar-repo/assets/content/_target_|project.yaml|One target templates

Continuing the example above here are the variable files associated with the
[Developer Kit README file](/salt/README.md) file:

|Variable Type|Example Files|
|-|-|
|Organization|kevlar-repo//assets/content/organization.yaml|
|Project|kevlar-repo/assets/content/salt/project.yaml|

## More to Come

Two more files will be added to go into more detail. The first will be how to add a file to an existing target directory
The second will be how to set up a new target and template directory form scratch.

## Links to More Information

### Community Meeting
This project meets on a regular basis: [TBD Community Meeting](https://zoom.us/j/7886774843).
### Getting Help
For contact information or to report a bug see [Support](/SUPPORT.md).
### How to Contribute
For guidelines on contributions see [Contributing](/CONTRIBUTING.md).
### Code of Conduct
This project follows this [Code of Conduct](/CODE_OF_CONDUCT.md).
### License
This project is licensed under the following [License](/LICENSE).
#### Do Not Edit
This file is generated so edits made to it will be overwritten.
The template for this file may be edited:
[README.md](/repo-templates/assets/README.md)

For complete instructions on editing templates and processing them see:
[Document Generation](/assets/README.md)
